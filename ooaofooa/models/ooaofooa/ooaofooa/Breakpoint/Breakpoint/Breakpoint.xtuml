-- BP 7.1.6 content: ModelClass syschar: 3 persistence-version: 7.1.6

INSERT INTO O_OBJ
	VALUES ("d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	'Breakpoint',
	3100,
	'BP_BP',
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("7ed737e5-a487-46b6-ad95-155b8d64f0b3",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	'createBreakpoint',
	'',
	"ba5eda7a-def5-0000-0000-000000000005",
	1,
	'// Breakpoint.createBreakpoint(); 

// Initialize parameters of breakpoint
self.target_hit_count = param.hit_count;
self.enabled = param.enabled; 
self.for_step = param.for_step;
self.condition_enabled = false;  

// Create OAL breakpoint
if (param.breakpoint_type == Breakpoint_Type::OAL)
  select any statement from instances of ACT_SMT where selected.Statement_ID == param.Element_ID; 
  if (not_empty statement)
    create object instance breakpoint of BP_OAL; 
    relate self to breakpoint across R3102; 
    relate breakpoint to statement across R3101; 
    return breakpoint.Breakpoint_ID; 
  end if; 
end if; 

// Create event breakpoint
if (param.breakpoint_type == Breakpoint_Type::Event_BP)
  select any evt from instances of SM_EVT where selected.SMevt_ID == param.Element_ID; 
  if (not_empty evt)
    create object instance breakpoint of BP_EV; 
    relate self to breakpoint across R3102; 
    relate breakpoint to evt across R3103; 
    return breakpoint.Breakpoint_ID; 
  end if; 
end if; 

// Create event breakpoint
if (param.breakpoint_type == Breakpoint_Type::State)
  select any state from instances of SM_STATE where selected.SMstt_ID == param.Element_ID; 
  if (not_empty state)
    create object instance breakpoint of BP_ST; 
    relate self to breakpoint across R3102; 
    relate breakpoint to state across R3104; 
    return breakpoint.Breakpoint_ID; 
  end if; 
end if; 

// Error occured when creating breakpoint
return GD::NULL_UNIQUE_ID(); 

',
	1,
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TPARM
	VALUES ("d9ad9d3c-9c45-4027-b288-3f45dced9511",
	"7ed737e5-a487-46b6-ad95-155b8d64f0b3",
	'hit_count',
	"ba5eda7a-def5-0000-0000-000000000002",
	0,
	'',
	"8e81acbf-125e-4a34-b60c-a86a990dbb28",
	'');
INSERT INTO O_TPARM
	VALUES ("9b37eb63-1ee8-4863-9f1f-6bb8ed212573",
	"7ed737e5-a487-46b6-ad95-155b8d64f0b3",
	'enabled',
	"ba5eda7a-def5-0000-0000-000000000001",
	0,
	'',
	"a447f7f9-b57b-4a26-aa2d-5619010f0e76",
	'');
INSERT INTO O_TPARM
	VALUES ("8e81acbf-125e-4a34-b60c-a86a990dbb28",
	"7ed737e5-a487-46b6-ad95-155b8d64f0b3",
	'for_step',
	"ba5eda7a-def5-0000-0000-000000000001",
	0,
	'',
	"9b37eb63-1ee8-4863-9f1f-6bb8ed212573",
	'');
INSERT INTO O_TPARM
	VALUES ("a447f7f9-b57b-4a26-aa2d-5619010f0e76",
	"7ed737e5-a487-46b6-ad95-155b8d64f0b3",
	'breakpoint_type',
	"c761c021-e6c5-4bec-891a-4c55957dcd98",
	0,
	'',
	"35bb9f41-4a02-45ba-8772-c5782d9aa63c",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("c761c021-e6c5-4bec-891a-4c55957dcd98",
	"00000000-0000-0000-0000-000000000000",
	'Breakpoint_Type',
	'',
	'',
	'../../Datatypes/Datatypes.xtuml');
INSERT INTO O_TPARM
	VALUES ("35bb9f41-4a02-45ba-8772-c5782d9aa63c",
	"7ed737e5-a487-46b6-ad95-155b8d64f0b3",
	'Element_ID',
	"ba5eda7a-def5-0000-0000-000000000005",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TFR
	VALUES ("60f67715-d46f-4dfd-a173-ec4150e8da80",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	'dispose',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'// Breakpoint dispose()

select one condition related by self->BP_CON[R3100];
if (not_empty condition)
  unrelate self from condition across R3100; 
  condition.dispose(); 
end if; 
  
select one OAL_breakpoint related by self->BP_OAL[R3102];
if (not_empty OAL_breakpoint)
  unrelate self from OAL_breakpoint across R3102; 
  OAL_breakpoint.dispose(); 
end if;  
 
select one event_breakpoint related by self->BP_EV[R3102];
if (not_empty event_breakpoint)
  unrelate self from event_breakpoint across R3102; 
  event_breakpoint.dispose(); 
end if;     
 
select one state_breakpoint related by self->BP_ST[R3102];
if (not_empty state_breakpoint)
  unrelate self from state_breakpoint across R3102; 
  state_breakpoint.dispose(); 
end if;     

// Delete self
delete object instance self; 
                            ',
	1,
	'',
	"7ed737e5-a487-46b6-ad95-155b8d64f0b3");
INSERT INTO O_TFR
	VALUES ("8526e6f3-62fd-4c58-aa60-4768ef01fca6",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	'incrementAndTestHitCount',
	'',
	"ba5eda7a-def5-0000-0000-000000000001",
	1,
	'// Breakpoint.incrementAndTestHitCount()                                
if (self.enabled)
if (self.target_hit_count == -1)
  // hit count is not in use
  return true;
else
  self.hit_count = self.hit_count + 1;
  if (self.hit_count >= self.target_hit_count)
    self.hit_count = 0;
    return true;
  end if;
end if;
end if;
return false;
',
	1,
	'',
	"60f67715-d46f-4dfd-a173-ec4150e8da80");
INSERT INTO O_NBATTR
	VALUES ("8a13e880-c48a-486e-a819-54f182f42b2d",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_BATTR
	VALUES ("8a13e880-c48a-486e-a819-54f182f42b2d",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_ATTR
	VALUES ("8a13e880-c48a-486e-a819-54f182f42b2d",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	"00000000-0000-0000-0000-000000000000",
	'Breakpoint_ID',
	'',
	'',
	'Breakpoint_ID',
	0,
	"ba5eda7a-def5-0000-0000-000000000005",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("323ca628-a640-4bdf-82fa-313df8618994",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_BATTR
	VALUES ("323ca628-a640-4bdf-82fa-313df8618994",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_ATTR
	VALUES ("323ca628-a640-4bdf-82fa-313df8618994",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	"8a13e880-c48a-486e-a819-54f182f42b2d",
	'enabled',
	'',
	'',
	'enabled',
	0,
	"ba5eda7a-def5-0000-0000-000000000001",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("83306bfe-918c-43aa-a61e-5ef7028737f0",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_BATTR
	VALUES ("83306bfe-918c-43aa-a61e-5ef7028737f0",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_ATTR
	VALUES ("83306bfe-918c-43aa-a61e-5ef7028737f0",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	"780d2415-df22-4916-9a7e-d0b298e75d15",
	'hit_count',
	'',
	'',
	'hit_count',
	0,
	"ba5eda7a-def5-0000-0000-000000000002",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("1e53a6b1-0c31-4a9a-a1ed-5237badcb1ef",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_BATTR
	VALUES ("1e53a6b1-0c31-4a9a-a1ed-5237badcb1ef",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_ATTR
	VALUES ("1e53a6b1-0c31-4a9a-a1ed-5237badcb1ef",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	"6f7f4f8c-8b2a-40e4-bc2f-755d62ea81e3",
	'for_step',
	'',
	'',
	'for_step',
	0,
	"ba5eda7a-def5-0000-0000-000000000001",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("780d2415-df22-4916-9a7e-d0b298e75d15",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_BATTR
	VALUES ("780d2415-df22-4916-9a7e-d0b298e75d15",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_ATTR
	VALUES ("780d2415-df22-4916-9a7e-d0b298e75d15",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	"323ca628-a640-4bdf-82fa-313df8618994",
	'condition_enabled',
	'',
	'',
	'condition_enabled',
	0,
	"ba5eda7a-def5-0000-0000-000000000001",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("6f7f4f8c-8b2a-40e4-bc2f-755d62ea81e3",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_BATTR
	VALUES ("6f7f4f8c-8b2a-40e4-bc2f-755d62ea81e3",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_ATTR
	VALUES ("6f7f4f8c-8b2a-40e4-bc2f-755d62ea81e3",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	"83306bfe-918c-43aa-a61e-5ef7028737f0",
	'target_hit_count',
	'',
	'',
	'target_hit_count',
	0,
	"ba5eda7a-def5-0000-0000-000000000002",
	'',
	'');
INSERT INTO O_ID
	VALUES (0,
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_OIDA
	VALUES ("8a13e880-c48a-486e-a819-54f182f42b2d",
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	0,
	'Breakpoint_ID');
INSERT INTO O_ID
	VALUES (1,
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO O_ID
	VALUES (2,
	"d29ec57e-6edd-41ca-a9e5-df3d04209f39");
INSERT INTO PE_PE
	VALUES ("d29ec57e-6edd-41ca-a9e5-df3d04209f39",
	1,
	"ff6e0ad8-c508-46ac-a6a7-caefe9ebfdab",
	"00000000-0000-0000-0000-000000000000",
	4);
INSERT INTO EP_PKG_PROXY
	VALUES ("ff6e0ad8-c508-46ac-a6a7-caefe9ebfdab",
	"00000000-0000-0000-0000-000000000000",
	"2f3ea6a7-20e9-405c-b68c-7fba041e7daf",
	'Breakpoint',
	'This subsystem provides breakpoints that can be used in Model Verifier and Model Debugger.
// This is used by schema_gen to ignore this subsystem (for publication)
Persistent:false
TRANSLATE_FOR_EXTERNAL_USE:FALSE
',
	1100,
	'../Breakpoint.xtuml');
