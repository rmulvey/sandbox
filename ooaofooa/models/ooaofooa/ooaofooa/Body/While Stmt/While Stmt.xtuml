-- BP 7.1.6 content: ModelClass syschar: 3 persistence-version: 7.1.6

INSERT INTO O_OBJ
	VALUES ("00f82265-92f9-4f50-bceb-af20911b658b",
	'While Stmt',
	619,
	'ACT_WHL',
	'This class represents a while statement in a block of action language.',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("1d8588b4-9112-4849-8202-c67129837be3",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	'dispose',
	'This operation disconnects an instance, and all instances it is 
responsible for, from the model.
',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'select one blk related by self->ACT_BLK[R608];
if ( not_empty blk )
  unrelate self from blk across R608;
  blk.dispose();
end if;

select one val related by self->V_VAL[R626];
if ( not_empty val )
  unrelate self from val across R626;
  val.dispose();
end if;
delete object instance self;
',
	1,
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("7c5f50f1-531d-4903-b51d-3648e7fba42a",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	'execute',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'// While Stmt.execute()
 select one body related by self->ACT_SMT[R603]->ACT_BLK[R602]->ACT_ACT[R601];   
// First check for a valid stack frame id and grab the stack frame
select any stack_frame from instances of I_STF where 
                              (selected.Stack_Frame_ID == param.stack_frame_id);
if (empty stack_frame)
  //Invalid stack frame ID!
  pathMsg = "<No Path Available - Empty instance>";
    if (not_empty body)
      pathMsg = body.getPath();
    end if;
	USER::logError(msg:"Error in While Stmt.execute: Invalid stack frame id. Terminating execution.",path:pathMsg);
  select any stack from instances of I_STACK;
  stack.runState = RunStateType::Terminated;
else
  select one stack related by stack_frame->I_STACK[R2943];
  if (empty stack)
    //Could not get stack!
    pathMsg = "<No Path Available - Empty instance>";
    if (not_empty body)
      pathMsg = body.getPath();
    end if;
	USER::logError(msg:"Error in While Stmt.execute: Could not get stack. Using random stack.",path:pathMsg);
    select any stack from instances of I_STACK;
    stack.runState = RunStateType::Terminated;
  else
    select one value related by self->V_VAL[R626];
    value.computeValue(stack_frame_id: param.stack_frame_id);
    select any result related by stack_frame->I_VSF[R2951] where
                                            selected.Value_ID == value.Value_ID;
    select one rtVal related by result->RV_RVL[R3305];
    if (empty rtVal)
      // result requires computation. Return and let the new stack frame execute
      return;      
    else
      stack_frame.popValue(value_id:value.Value_ID);
      if (GD::instance_to_boolean(value:rtVal.getValue()) == true)
        select one child_block related by self->ACT_BLK[R608];
        select any statement related by child_block->ACT_SMT[R602];
        if not_empty statement
          // we''re going into a deeper block, so
          // disable execution on the current one
          select any bisf related by stack_frame->I_BSF[R2923] where
                                                           selected.isExecuting;
          bisf.isExecuting = false;
          // Set up block for execution
          create object instance bisf of I_BSF;
          relate child_block to stack_frame across R2923 using bisf;
          relate statement to bisf across R2941;
          bisf.isExecuting = true;
          child_block.initialize();
        end if;
      end if;
    end if;
  end if; 
end if;
',
	1,
	'',
	"1d8588b4-9112-4849-8202-c67129837be3");
INSERT INTO O_TPARM
	VALUES ("88bcb2dd-0ba1-48b2-bd8c-cf98cd5ad660",
	"7c5f50f1-531d-4903-b51d-3648e7fba42a",
	'stack_frame_id',
	"ba5eda7a-def5-0000-0000-000000000005",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_REF
	VALUES ("00f82265-92f9-4f50-bceb-af20911b658b",
	"4f42b756-0c2e-4a87-b40f-87291682433c",
	0,
	"9bdc49e0-583c-4741-ad6c-fa52d80977a5",
	"df5d83da-30d6-4d47-b2e9-e0558c45efd8",
	"897fa76a-8700-4ea9-9a7c-e8ab67b21eab",
	"7558839e-e4fb-46e4-97b0-decfec373abb",
	"5b7342b3-41da-4082-b15b-17a93914418d",
	"ea0da903-6182-492a-b47b-8dd379d2fa74",
	"00000000-0000-0000-0000-000000000000",
	0,
	'',
	'Statement',
	'Statement_ID',
	'R603');
INSERT INTO R_RGO_PROXY
	VALUES ("00f82265-92f9-4f50-bceb-af20911b658b",
	"df5d83da-30d6-4d47-b2e9-e0558c45efd8",
	"897fa76a-8700-4ea9-9a7c-e8ab67b21eab",
	'../Body.xtuml');
INSERT INTO O_RTIDA_PROXY
	VALUES ("9bdc49e0-583c-4741-ad6c-fa52d80977a5",
	"4f42b756-0c2e-4a87-b40f-87291682433c",
	0,
	"df5d83da-30d6-4d47-b2e9-e0558c45efd8",
	"7558839e-e4fb-46e4-97b0-decfec373abb",
	'../Body.xtuml');
INSERT INTO O_RATTR
	VALUES ("5b7342b3-41da-4082-b15b-17a93914418d",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	"9bdc49e0-583c-4741-ad6c-fa52d80977a5",
	"4f42b756-0c2e-4a87-b40f-87291682433c",
	1,
	'Statement_ID');
INSERT INTO O_BATTR_PROXY
	VALUES ("9bdc49e0-583c-4741-ad6c-fa52d80977a5",
	"4f42b756-0c2e-4a87-b40f-87291682433c",
	'../Statement/Statement.xtuml');
INSERT INTO O_ATTR
	VALUES ("5b7342b3-41da-4082-b15b-17a93914418d",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	"00000000-0000-0000-0000-000000000000",
	'Statement_ID',
	'

',
	'',
	'Statement_ID',
	0,
	"ba5eda7a-def5-0000-0000-000000000007",
	'',
	'');
INSERT INTO O_REF
	VALUES ("00f82265-92f9-4f50-bceb-af20911b658b",
	"43ea4f47-4fe8-4167-8153-9e199477d0fd",
	0,
	"6e185a42-0dc6-4b9d-9d4b-38cb7c8aa772",
	"38537e83-2f1d-4447-a35b-f7b4c9eacabc",
	"7a46d9eb-34a8-4309-8dee-1a0d1aeaac22",
	"5bbfe839-91d3-4037-8159-3d7cab274259",
	"85ae2c7f-1891-45cf-aeca-0d1540b3f2d1",
	"1770846b-6206-4ce0-bdc6-f8f1a1dd38c2",
	"00000000-0000-0000-0000-000000000000",
	0,
	'',
	'Value',
	'Value_ID',
	'R626.''continue result''');
INSERT INTO R_RGO_PROXY
	VALUES ("00f82265-92f9-4f50-bceb-af20911b658b",
	"38537e83-2f1d-4447-a35b-f7b4c9eacabc",
	"7a46d9eb-34a8-4309-8dee-1a0d1aeaac22",
	'../Body.xtuml');
INSERT INTO O_RTIDA_PROXY
	VALUES ("6e185a42-0dc6-4b9d-9d4b-38cb7c8aa772",
	"43ea4f47-4fe8-4167-8153-9e199477d0fd",
	0,
	"38537e83-2f1d-4447-a35b-f7b4c9eacabc",
	"5bbfe839-91d3-4037-8159-3d7cab274259",
	'../Body.xtuml');
INSERT INTO O_RATTR
	VALUES ("85ae2c7f-1891-45cf-aeca-0d1540b3f2d1",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	"6e185a42-0dc6-4b9d-9d4b-38cb7c8aa772",
	"43ea4f47-4fe8-4167-8153-9e199477d0fd",
	1,
	'Value_ID');
INSERT INTO O_BATTR_PROXY
	VALUES ("6e185a42-0dc6-4b9d-9d4b-38cb7c8aa772",
	"43ea4f47-4fe8-4167-8153-9e199477d0fd",
	'../../Value/Value/Value.xtuml');
INSERT INTO O_ATTR
	VALUES ("85ae2c7f-1891-45cf-aeca-0d1540b3f2d1",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	"5b7342b3-41da-4082-b15b-17a93914418d",
	'Value_ID',
	'

',
	'',
	'Value_ID',
	0,
	"ba5eda7a-def5-0000-0000-000000000007",
	'',
	'');
INSERT INTO O_REF
	VALUES ("00f82265-92f9-4f50-bceb-af20911b658b",
	"70a3e88d-3ee9-4e76-93d3-c4f447e317f4",
	0,
	"d99d21d2-81d8-403b-9806-b4620234cdcc",
	"39031140-37fe-43ee-83d1-18a7835e0855",
	"f0849b09-9d67-418f-b201-a9df697b878f",
	"0da35cc6-01da-4715-bb59-fb95b502f2f7",
	"577c7274-f564-41c4-9880-d309ef52bb77",
	"01590564-d5b3-4719-8849-549114074973",
	"00000000-0000-0000-0000-000000000000",
	0,
	'',
	'Block',
	'Block_ID',
	'R608.''controls''');
INSERT INTO R_RGO_PROXY
	VALUES ("00f82265-92f9-4f50-bceb-af20911b658b",
	"39031140-37fe-43ee-83d1-18a7835e0855",
	"f0849b09-9d67-418f-b201-a9df697b878f",
	'../Body.xtuml');
INSERT INTO O_RTIDA_PROXY
	VALUES ("d99d21d2-81d8-403b-9806-b4620234cdcc",
	"70a3e88d-3ee9-4e76-93d3-c4f447e317f4",
	0,
	"39031140-37fe-43ee-83d1-18a7835e0855",
	"0da35cc6-01da-4715-bb59-fb95b502f2f7",
	'../Body.xtuml');
INSERT INTO O_RATTR
	VALUES ("577c7274-f564-41c4-9880-d309ef52bb77",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	"d99d21d2-81d8-403b-9806-b4620234cdcc",
	"70a3e88d-3ee9-4e76-93d3-c4f447e317f4",
	1,
	'Block_ID');
INSERT INTO O_BATTR_PROXY
	VALUES ("d99d21d2-81d8-403b-9806-b4620234cdcc",
	"70a3e88d-3ee9-4e76-93d3-c4f447e317f4",
	'../Block/Block.xtuml');
INSERT INTO O_ATTR
	VALUES ("577c7274-f564-41c4-9880-d309ef52bb77",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	"85ae2c7f-1891-45cf-aeca-0d1540b3f2d1",
	'Block_ID',
	'',
	'',
	'Block_ID',
	0,
	"ba5eda7a-def5-0000-0000-000000000007",
	'',
	'');
INSERT INTO O_ID
	VALUES (0,
	"00f82265-92f9-4f50-bceb-af20911b658b");
INSERT INTO O_OIDA
	VALUES ("5b7342b3-41da-4082-b15b-17a93914418d",
	"00f82265-92f9-4f50-bceb-af20911b658b",
	0,
	'Statement_ID');
INSERT INTO O_ID
	VALUES (1,
	"00f82265-92f9-4f50-bceb-af20911b658b");
INSERT INTO O_ID
	VALUES (2,
	"00f82265-92f9-4f50-bceb-af20911b658b");
INSERT INTO PE_PE
	VALUES ("00f82265-92f9-4f50-bceb-af20911b658b",
	1,
	"5375dd69-33aa-4887-8270-296340adc334",
	"00000000-0000-0000-0000-000000000000",
	4);
INSERT INTO EP_PKG_PROXY
	VALUES ("5375dd69-33aa-4887-8270-296340adc334",
	"00000000-0000-0000-0000-000000000000",
	"2f3ea6a7-20e9-405c-b68c-7fba041e7daf",
	'Body',
	'This subsystem abstracts the action itself, the blocks and statements
it contains together with the flow of control statements such as ''while'',
''for each'' and ''if''.
Notify_Changes:false
Persistent:false
// This is used by schema_gen to ignore this subsystem (for publication)
TRANSLATE_FOR_EXTERNAL_USE:FALSE
',
	600,
	'../Body.xtuml');
