-- BP 7.1.6 content: InstanceStateMachine syschar: 3 persistence-version: 7.1.6

INSERT INTO SM_ISM
	VALUES ("90aefcd7-3cea-4524-9ab0-781c68937e58",
	"e4f7bbb9-5c06-49d8-a186-81b0cff5fdf1");
INSERT INTO SM_SM
	VALUES ("90aefcd7-3cea-4524-9ab0-781c68937e58",
	'',
	0);
INSERT INTO SM_MOORE
	VALUES ("90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_LEVT
	VALUES ("e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEVT
	VALUES ("e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	1,
	'startStopPressed',
	0,
	'',
	'WorkoutTimer1',
	'');
INSERT INTO SM_LEVT
	VALUES ("3645a810-7944-4254-aa12-796a9a416cae",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEVT
	VALUES ("3645a810-7944-4254-aa12-796a9a416cae",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("3645a810-7944-4254-aa12-796a9a416cae",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	2,
	'lapResetPressed',
	0,
	'',
	'WorkoutTimer2',
	'');
INSERT INTO SM_LEVT
	VALUES ("35d904d2-37f9-4804-a64a-4ac208106b28",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEVT
	VALUES ("35d904d2-37f9-4804-a64a-4ac208106b28",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("35d904d2-37f9-4804-a64a-4ac208106b28",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	3,
	'tick',
	0,
	'',
	'WorkoutTimer3',
	'');
INSERT INTO SM_STATE
	VALUES ("d881b487-4154-4d06-a35e-bb9a35b36402",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	'stopped',
	1,
	0);
INSERT INTO SM_SEME
	VALUES ("d881b487-4154-4d06-a35e-bb9a35b36402",
	"e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EIGN
	VALUES ("d881b487-4154-4d06-a35e-bb9a35b36402",
	"3645a810-7944-4254-aa12-796a9a416cae",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("d881b487-4154-4d06-a35e-bb9a35b36402",
	"3645a810-7944-4254-aa12-796a9a416cae",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EIGN
	VALUES ("d881b487-4154-4d06-a35e-bb9a35b36402",
	"35d904d2-37f9-4804-a64a-4ac208106b28",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("d881b487-4154-4d06-a35e-bb9a35b36402",
	"35d904d2-37f9-4804-a64a-4ac208106b28",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_STATE
	VALUES ("4f391568-f9e2-437f-8aa7-77107b9187f8",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	'running',
	2,
	0);
INSERT INTO SM_SEME
	VALUES ("4f391568-f9e2-437f-8aa7-77107b9187f8",
	"e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEME
	VALUES ("4f391568-f9e2-437f-8aa7-77107b9187f8",
	"3645a810-7944-4254-aa12-796a9a416cae",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEME
	VALUES ("4f391568-f9e2-437f-8aa7-77107b9187f8",
	"35d904d2-37f9-4804-a64a-4ac208106b28",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_STATE
	VALUES ("010a4985-6b34-4390-ba40-5b2d9edb03fb",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	'paused',
	3,
	0);
INSERT INTO SM_SEME
	VALUES ("010a4985-6b34-4390-ba40-5b2d9edb03fb",
	"e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEME
	VALUES ("010a4985-6b34-4390-ba40-5b2d9edb03fb",
	"3645a810-7944-4254-aa12-796a9a416cae",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EIGN
	VALUES ("010a4985-6b34-4390-ba40-5b2d9edb03fb",
	"35d904d2-37f9-4804-a64a-4ac208106b28",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("010a4985-6b34-4390-ba40-5b2d9edb03fb",
	"35d904d2-37f9-4804-a64a-4ac208106b28",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("d60d7d41-1f16-4029-9a2b-50d2b63b89f9",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"d881b487-4154-4d06-a35e-bb9a35b36402",
	"e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("d60d7d41-1f16-4029-9a2b-50d2b63b89f9",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"4f391568-f9e2-437f-8aa7-77107b9187f8",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("ce754524-4331-4d87-9ac5-66780bef1d27",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"4f391568-f9e2-437f-8aa7-77107b9187f8",
	"3645a810-7944-4254-aa12-796a9a416cae",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("ce754524-4331-4d87-9ac5-66780bef1d27",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"4f391568-f9e2-437f-8aa7-77107b9187f8",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("e2bd570a-36d5-4609-a578-7ce6ba2af710",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"010a4985-6b34-4390-ba40-5b2d9edb03fb",
	"3645a810-7944-4254-aa12-796a9a416cae",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("e2bd570a-36d5-4609-a578-7ce6ba2af710",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"d881b487-4154-4d06-a35e-bb9a35b36402",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("032bbfbb-cca6-46cb-b0a9-caa264481c45",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"010a4985-6b34-4390-ba40-5b2d9edb03fb",
	"e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("032bbfbb-cca6-46cb-b0a9-caa264481c45",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"4f391568-f9e2-437f-8aa7-77107b9187f8",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("6e99ad1a-d9d1-4017-88bf-98d6941c0b51",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"4f391568-f9e2-437f-8aa7-77107b9187f8",
	"e6798274-34e1-4ce0-96b1-f95c8bb1e135",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("6e99ad1a-d9d1-4017-88bf-98d6941c0b51",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"010a4985-6b34-4390-ba40-5b2d9edb03fb",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("c7047400-6073-4c90-9f4e-54e12ed76277",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"4f391568-f9e2-437f-8aa7-77107b9187f8",
	"35d904d2-37f9-4804-a64a-4ac208106b28",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("c7047400-6073-4c90-9f4e-54e12ed76277",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"4f391568-f9e2-437f-8aa7-77107b9187f8",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_MOAH
	VALUES ("02bb99e0-e821-41de-8344-c70896a07ed5",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"d881b487-4154-4d06-a35e-bb9a35b36402");
INSERT INTO SM_AH
	VALUES ("02bb99e0-e821-41de-8344-c70896a07ed5",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("02bb99e0-e821-41de-8344-c70896a07ed5",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'// Reset the session
select one session related by self->WorkoutSession[R8.''acts as the stopwatch for''];
session.reset();

// Update the UI.
send UI::setTime(time: self.time);
select one display related by
  self->WorkoutSession[R8.''acts as the stopwatch for'']->
  Display[R7.''current status indicated on''];
generate Display2:refresh to display;',
	'');
INSERT INTO SM_MOAH
	VALUES ("d2759059-cf5e-4cfd-abde-1ada0e90b686",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"4f391568-f9e2-437f-8aa7-77107b9187f8");
INSERT INTO SM_AH
	VALUES ("d2759059-cf5e-4cfd-abde-1ada0e90b686",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("d2759059-cf5e-4cfd-abde-1ada0e90b686",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'',
	'');
INSERT INTO SM_MOAH
	VALUES ("3f5b380d-ed34-4798-9a51-bd91e7171fe0",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"010a4985-6b34-4390-ba40-5b2d9edb03fb");
INSERT INTO SM_AH
	VALUES ("3f5b380d-ed34-4798-9a51-bd91e7171fe0",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("3f5b380d-ed34-4798-9a51-bd91e7171fe0",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'',
	'');
INSERT INTO SM_TAH
	VALUES ("d554ca13-5e77-4735-8975-9c436d6f694f",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"d60d7d41-1f16-4029-9a2b-50d2b63b89f9");
INSERT INTO SM_AH
	VALUES ("d554ca13-5e77-4735-8975-9c436d6f694f",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("d554ca13-5e77-4735-8975-9c436d6f694f",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'// Start the timer.
self.activate();',
	'');
INSERT INTO SM_TAH
	VALUES ("c9291b9c-5fed-4454-9c68-dbcdce2f09e6",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"ce754524-4331-4d87-9ac5-66780bef1d27");
INSERT INTO SM_AH
	VALUES ("c9291b9c-5fed-4454-9c68-dbcdce2f09e6",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("c9291b9c-5fed-4454-9c68-dbcdce2f09e6",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'select any trackLog from instances of TrackLog;
if (not empty trackLog)
  trackLog.addLapMarker();
end if;',
	'');
INSERT INTO SM_TAH
	VALUES ("55c63151-695e-4c78-a5a7-426cd485032b",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"e2bd570a-36d5-4609-a578-7ce6ba2af710");
INSERT INTO SM_AH
	VALUES ("55c63151-695e-4c78-a5a7-426cd485032b",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("55c63151-695e-4c78-a5a7-426cd485032b",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'',
	'');
INSERT INTO SM_TAH
	VALUES ("08ae6dde-a682-47e2-94c0-6e05e3630934",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"032bbfbb-cca6-46cb-b0a9-caa264481c45");
INSERT INTO SM_AH
	VALUES ("08ae6dde-a682-47e2-94c0-6e05e3630934",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("08ae6dde-a682-47e2-94c0-6e05e3630934",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'self.activate();',
	'');
INSERT INTO SM_TAH
	VALUES ("716c06ef-48f7-4449-95c2-4b2ac169c575",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"6e99ad1a-d9d1-4017-88bf-98d6941c0b51");
INSERT INTO SM_AH
	VALUES ("716c06ef-48f7-4449-95c2-4b2ac169c575",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("716c06ef-48f7-4449-95c2-4b2ac169c575",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'self.deactivate();',
	'');
INSERT INTO SM_TAH
	VALUES ("c4f50ad4-0c34-49db-82bd-3c4fcb8a2a43",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	"c7047400-6073-4c90-9f4e-54e12ed76277");
INSERT INTO SM_AH
	VALUES ("c4f50ad4-0c34-49db-82bd-3c4fcb8a2a43",
	"90aefcd7-3cea-4524-9ab0-781c68937e58");
INSERT INTO SM_ACT
	VALUES ("c4f50ad4-0c34-49db-82bd-3c4fcb8a2a43",
	"90aefcd7-3cea-4524-9ab0-781c68937e58",
	1,
	'// Update the stopwatch time.
self.time = self.time + timerPeriod;

// Store a new track point.
select one trackLog related by 
  self->WorkoutSession[R8.''acts as the stopwatch for'']->TrackLog[R4.''captures path in''];
trackLog.addTrackPoint();

// Refresh the user interface.
send UI::setTime(time: self.time);',
	'');
INSERT INTO O_OBJ_PROXY
	VALUES ("e4f7bbb9-5c06-49d8-a186-81b0cff5fdf1",
	'WorkoutTimer',
	1,
	'WorkoutTimer',
	'Represents the stopwatch portion of the device.
This class also knows:
- Track points are stored only when the stopwatch is running.
- If a goal is executing, evaluation of it must be paused when
the timer pauses.
- How to handle the lap/reset signal based on whether the 
stopwatch is currently running.

This is a singleton instance.
',
	"00000000-0000-0000-0000-000000000000",
	'../WorkoutTimer.xtuml');
