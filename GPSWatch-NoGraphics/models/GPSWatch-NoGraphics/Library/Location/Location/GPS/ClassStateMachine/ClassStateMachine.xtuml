-- BP 7.1.6 content: ClassStateMachine syschar: 3 persistence-version: 7.1.6

INSERT INTO SM_ASM
	VALUES ("15c839bb-d37f-465b-8094-23b3f0be5e92",
	"b3005c81-efba-4779-99b9-58b84e91edd5");
INSERT INTO SM_SM
	VALUES ("15c839bb-d37f-465b-8094-23b3f0be5e92",
	'',
	0);
INSERT INTO SM_MOORE
	VALUES ("15c839bb-d37f-465b-8094-23b3f0be5e92");
INSERT INTO SM_LEVT
	VALUES ("b5e265e3-f69a-434d-92d2-49d45f3bb696",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEVT
	VALUES ("b5e265e3-f69a-434d-92d2-49d45f3bb696",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("b5e265e3-f69a-434d-92d2-49d45f3bb696",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	1,
	'tick',
	0,
	'',
	'GPS_A1',
	'');
INSERT INTO SM_SGEVT
	VALUES ("79e3e716-c184-48ff-a798-3504a715c086",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	"496bef77-66a5-4b71-b64c-b83db8602615",
	"00000000-0000-0000-0000-000000000000",
	'LOC::registerListener');
INSERT INTO SPR_PS_PROXY
	VALUES ("496bef77-66a5-4b71-b64c-b83db8602615",
	'registerListener',
	'',
	'',
	1,
	'../../../Location.xtuml');
INSERT INTO SM_SEVT
	VALUES ("79e3e716-c184-48ff-a798-3504a715c086",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("79e3e716-c184-48ff-a798-3504a715c086",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	2,
	'registerListener',
	0,
	'',
	'LOC::registerListener',
	'');
INSERT INTO SM_SGEVT
	VALUES ("be87030b-1d98-49a2-8094-41fddd8a78bc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	"a08d695f-dd3b-45e1-9dde-4d1dcdbe5f23",
	"00000000-0000-0000-0000-000000000000",
	'LOC::unregisterListener');
INSERT INTO SPR_PS_PROXY
	VALUES ("a08d695f-dd3b-45e1-9dde-4d1dcdbe5f23",
	'unregisterListener',
	'',
	'',
	1,
	'../../../Location.xtuml');
INSERT INTO SM_SEVT
	VALUES ("be87030b-1d98-49a2-8094-41fddd8a78bc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("be87030b-1d98-49a2-8094-41fddd8a78bc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	3,
	'unregisterListener',
	0,
	'',
	'LOC::unregisterListener',
	'');
INSERT INTO SM_STATE
	VALUES ("7d3b9e30-63d0-4b54-8e17-4f9871b63373",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	'idle',
	1,
	0);
INSERT INTO SM_EIGN
	VALUES ("7d3b9e30-63d0-4b54-8e17-4f9871b63373",
	"b5e265e3-f69a-434d-92d2-49d45f3bb696",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("7d3b9e30-63d0-4b54-8e17-4f9871b63373",
	"b5e265e3-f69a-434d-92d2-49d45f3bb696",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEME
	VALUES ("7d3b9e30-63d0-4b54-8e17-4f9871b63373",
	"79e3e716-c184-48ff-a798-3504a715c086",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_CH
	VALUES ("7d3b9e30-63d0-4b54-8e17-4f9871b63373",
	"be87030b-1d98-49a2-8094-41fddd8a78bc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("7d3b9e30-63d0-4b54-8e17-4f9871b63373",
	"be87030b-1d98-49a2-8094-41fddd8a78bc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_STATE
	VALUES ("682d13a2-6861-4891-bb79-60978a258330",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	'locating',
	2,
	0);
INSERT INTO SM_SEME
	VALUES ("682d13a2-6861-4891-bb79-60978a258330",
	"b5e265e3-f69a-434d-92d2-49d45f3bb696",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_CH
	VALUES ("682d13a2-6861-4891-bb79-60978a258330",
	"79e3e716-c184-48ff-a798-3504a715c086",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("682d13a2-6861-4891-bb79-60978a258330",
	"79e3e716-c184-48ff-a798-3504a715c086",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEME
	VALUES ("682d13a2-6861-4891-bb79-60978a258330",
	"be87030b-1d98-49a2-8094-41fddd8a78bc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("a5601889-8ad4-4b21-8fa8-d335e6d6ac57",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"7d3b9e30-63d0-4b54-8e17-4f9871b63373",
	"79e3e716-c184-48ff-a798-3504a715c086",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("a5601889-8ad4-4b21-8fa8-d335e6d6ac57",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"682d13a2-6861-4891-bb79-60978a258330",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("8f2de82a-2c17-4c5d-80c6-0405a5b08c78",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"682d13a2-6861-4891-bb79-60978a258330",
	"be87030b-1d98-49a2-8094-41fddd8a78bc",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("8f2de82a-2c17-4c5d-80c6-0405a5b08c78",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"7d3b9e30-63d0-4b54-8e17-4f9871b63373",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("bd9cb29e-ab9c-449c-b452-fd70937ce6e9",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"682d13a2-6861-4891-bb79-60978a258330",
	"b5e265e3-f69a-434d-92d2-49d45f3bb696",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("bd9cb29e-ab9c-449c-b452-fd70937ce6e9",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"682d13a2-6861-4891-bb79-60978a258330",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_MOAH
	VALUES ("494fa072-0b58-4f8a-928e-eb343cfbeffc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"7d3b9e30-63d0-4b54-8e17-4f9871b63373");
INSERT INTO SM_AH
	VALUES ("494fa072-0b58-4f8a-928e-eb343cfbeffc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92");
INSERT INTO SM_ACT
	VALUES ("494fa072-0b58-4f8a-928e-eb343cfbeffc",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	1,
	'// Deactivate the timer.
select any gps from instances of GPS;
res = TIM::timer_cancel(timer_inst_ref: gps.timer);
LOG::LogInfo(message: "Location listener unregistered.");

if ( not res )
  LOG::LogFailure( message: "Location listener: timer_cancel() failed." );
end if;
',
	'');
INSERT INTO SM_MOAH
	VALUES ("bdc22860-6854-4a9a-b92e-fc7e64bbe642",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"682d13a2-6861-4891-bb79-60978a258330");
INSERT INTO SM_AH
	VALUES ("bdc22860-6854-4a9a-b92e-fc7e64bbe642",
	"15c839bb-d37f-465b-8094-23b3f0be5e92");
INSERT INTO SM_ACT
	VALUES ("bdc22860-6854-4a9a-b92e-fc7e64bbe642",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	1,
	'// Simulate movement.
select any gps from instances of GPS;
if ( (gps.motionSegments % 3) == 0 )
  gps.currentLongitude = gps.currentLongitude + (longitudeIncrement * 2);
  gps.currentLatitude = gps.currentLatitude + latitudeIncrement;
elif ( (gps.motionSegments %5) == 0 )
  gps.currentLongitude = gps.currentLongitude + longitudeIncrement;
  gps.currentLatitude = gps.currentLatitude + (latitudeIncrement * 3);
else
  gps.currentLongitude = gps.currentLongitude + longitudeIncrement;
  gps.currentLatitude = gps.currentLatitude + latitudeIncrement;
end if;
',
	'');
INSERT INTO SM_TAH
	VALUES ("15b08b77-c8d3-4b88-add5-6ebd4ebaca4e",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"a5601889-8ad4-4b21-8fa8-d335e6d6ac57");
INSERT INTO SM_AH
	VALUES ("15b08b77-c8d3-4b88-add5-6ebd4ebaca4e",
	"15c839bb-d37f-465b-8094-23b3f0be5e92");
INSERT INTO SM_ACT
	VALUES ("15b08b77-c8d3-4b88-add5-6ebd4ebaca4e",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	1,
	'// Activate the simulated GPS.
GPS::activate();

LOG::LogInfo(message: "Location listener registered.");
',
	'');
INSERT INTO SM_TAH
	VALUES ("d38bc832-5a31-4a54-9587-3ea21ab2fa78",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"8f2de82a-2c17-4c5d-80c6-0405a5b08c78");
INSERT INTO SM_AH
	VALUES ("d38bc832-5a31-4a54-9587-3ea21ab2fa78",
	"15c839bb-d37f-465b-8094-23b3f0be5e92");
INSERT INTO SM_ACT
	VALUES ("d38bc832-5a31-4a54-9587-3ea21ab2fa78",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	1,
	'',
	'');
INSERT INTO SM_TAH
	VALUES ("95ee7bcc-2e6d-431b-84f8-86a44c04b942",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	"bd9cb29e-ab9c-449c-b452-fd70937ce6e9");
INSERT INTO SM_AH
	VALUES ("95ee7bcc-2e6d-431b-84f8-86a44c04b942",
	"15c839bb-d37f-465b-8094-23b3f0be5e92");
INSERT INTO SM_ACT
	VALUES ("95ee7bcc-2e6d-431b-84f8-86a44c04b942",
	"15c839bb-d37f-465b-8094-23b3f0be5e92",
	1,
	'// Increment simulated motion segment count.
select any gps from instances of GPS;
gps.motionSegments = gps.motionSegments + 1;
',
	'');
INSERT INTO O_OBJ_PROXY
	VALUES ("b3005c81-efba-4779-99b9-58b84e91edd5",
	'GPS',
	1,
	'GPS',
	'Simulates a GPS.',
	"00000000-0000-0000-0000-000000000000",
	'../GPS.xtuml');
