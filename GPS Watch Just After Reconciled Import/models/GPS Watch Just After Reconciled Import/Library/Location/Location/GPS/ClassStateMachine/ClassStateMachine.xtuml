-- BP 7.1.6 content: ClassStateMachine syschar: 3 persistence-version: 7.1.6

INSERT INTO SM_ASM
	VALUES ("5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"bae50d6c-eb90-48f6-bd80-4dcabb585b81");
INSERT INTO SM_SM
	VALUES ("5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	'',
	0);
INSERT INTO SM_MOORE
	VALUES ("5011af1c-fc70-48a9-ba1e-c67d9e19cab2");
INSERT INTO SM_LEVT
	VALUES ("31ac5f85-4e3c-46d1-9506-05d716f2a52e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEVT
	VALUES ("31ac5f85-4e3c-46d1-9506-05d716f2a52e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("31ac5f85-4e3c-46d1-9506-05d716f2a52e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	1,
	'tick',
	0,
	'',
	'GPS_A1',
	'');
INSERT INTO SM_SGEVT
	VALUES ("48d013bd-a411-421b-bd05-d651177f6b37",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	"85c33d98-5443-4dc5-b7c4-85a348e9e78f",
	"00000000-0000-0000-0000-000000000000",
	'LOC::registerListener');
INSERT INTO SPR_PS_PROXY
	VALUES ("85c33d98-5443-4dc5-b7c4-85a348e9e78f",
	'registerListener',
	'',
	'',
	1,
	'../../../Location.xtuml');
INSERT INTO SM_SEVT
	VALUES ("48d013bd-a411-421b-bd05-d651177f6b37",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("48d013bd-a411-421b-bd05-d651177f6b37",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	2,
	'registerListener',
	0,
	'',
	'LOC::registerListener',
	'');
INSERT INTO SM_SGEVT
	VALUES ("4ab16068-8b72-4490-a669-90e894bac45a",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	"21e9165a-b402-448f-82ba-169129e2b17a",
	"00000000-0000-0000-0000-000000000000",
	'LOC::unregisterListener');
INSERT INTO SPR_PS_PROXY
	VALUES ("21e9165a-b402-448f-82ba-169129e2b17a",
	'unregisterListener',
	'',
	'',
	1,
	'../../../Location.xtuml');
INSERT INTO SM_SEVT
	VALUES ("4ab16068-8b72-4490-a669-90e894bac45a",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_EVT
	VALUES ("4ab16068-8b72-4490-a669-90e894bac45a",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	3,
	'unregisterListener',
	0,
	'',
	'LOC::unregisterListener',
	'');
INSERT INTO SM_STATE
	VALUES ("614837cb-ed5f-4d79-bbb6-2e577761eae1",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	'idle',
	1,
	0);
INSERT INTO SM_EIGN
	VALUES ("614837cb-ed5f-4d79-bbb6-2e577761eae1",
	"31ac5f85-4e3c-46d1-9506-05d716f2a52e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("614837cb-ed5f-4d79-bbb6-2e577761eae1",
	"31ac5f85-4e3c-46d1-9506-05d716f2a52e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEME
	VALUES ("614837cb-ed5f-4d79-bbb6-2e577761eae1",
	"48d013bd-a411-421b-bd05-d651177f6b37",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_CH
	VALUES ("614837cb-ed5f-4d79-bbb6-2e577761eae1",
	"4ab16068-8b72-4490-a669-90e894bac45a",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("614837cb-ed5f-4d79-bbb6-2e577761eae1",
	"4ab16068-8b72-4490-a669-90e894bac45a",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_STATE
	VALUES ("411a6aca-474c-4989-b3c0-934cffe58a8b",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	'locating',
	2,
	0);
INSERT INTO SM_SEME
	VALUES ("411a6aca-474c-4989-b3c0-934cffe58a8b",
	"31ac5f85-4e3c-46d1-9506-05d716f2a52e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_CH
	VALUES ("411a6aca-474c-4989-b3c0-934cffe58a8b",
	"48d013bd-a411-421b-bd05-d651177f6b37",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO SM_SEME
	VALUES ("411a6aca-474c-4989-b3c0-934cffe58a8b",
	"48d013bd-a411-421b-bd05-d651177f6b37",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_SEME
	VALUES ("411a6aca-474c-4989-b3c0-934cffe58a8b",
	"4ab16068-8b72-4490-a669-90e894bac45a",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("79a25dfe-444c-43aa-95bc-89f40c3f6575",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"614837cb-ed5f-4d79-bbb6-2e577761eae1",
	"48d013bd-a411-421b-bd05-d651177f6b37",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("79a25dfe-444c-43aa-95bc-89f40c3f6575",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"411a6aca-474c-4989-b3c0-934cffe58a8b",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("ebca36d4-a04b-4832-bb41-0764d1b77c4a",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"411a6aca-474c-4989-b3c0-934cffe58a8b",
	"4ab16068-8b72-4490-a669-90e894bac45a",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("ebca36d4-a04b-4832-bb41-0764d1b77c4a",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"614837cb-ed5f-4d79-bbb6-2e577761eae1",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_NSTXN
	VALUES ("058fd5de-7908-4056-85a6-184a66f1008c",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"411a6aca-474c-4989-b3c0-934cffe58a8b",
	"31ac5f85-4e3c-46d1-9506-05d716f2a52e",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_TXN
	VALUES ("058fd5de-7908-4056-85a6-184a66f1008c",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"411a6aca-474c-4989-b3c0-934cffe58a8b",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO SM_MOAH
	VALUES ("6840b336-5dee-4c08-ae01-d3076822f003",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"614837cb-ed5f-4d79-bbb6-2e577761eae1");
INSERT INTO SM_AH
	VALUES ("6840b336-5dee-4c08-ae01-d3076822f003",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2");
INSERT INTO SM_ACT
	VALUES ("6840b336-5dee-4c08-ae01-d3076822f003",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	1,
	'// Deactivate the timer.
select any gps from instances of GPS;
res = TIM::timer_cancel(timer_inst_ref: gps.timer);
LOG::LogInfo(message: "Location listener unregistered.");

if ( not res )
  LOG::LogFailure( message: "Location listener: timer_cancel() failed." );
end if;
',
	'');
INSERT INTO SM_MOAH
	VALUES ("bc7fa342-5eb7-4e30-b702-d668d5a74cfd",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"411a6aca-474c-4989-b3c0-934cffe58a8b");
INSERT INTO SM_AH
	VALUES ("bc7fa342-5eb7-4e30-b702-d668d5a74cfd",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2");
INSERT INTO SM_ACT
	VALUES ("bc7fa342-5eb7-4e30-b702-d668d5a74cfd",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	1,
	'// Simulate movement.
select any gps from instances of GPS;
if ( (gps.motionSegments % 3) == 0 )
  gps.currentLongitude = gps.currentLongitude + (longitudeIncrement * 2);
  gps.currentLatitude = gps.currentLatitude + latitudeIncrement;
elif ( (gps.motionSegments %5) == 0 )
  gps.currentLongitude = gps.currentLongitude + longitudeIncrement;
  gps.currentLatitude = gps.currentLatitude + (latitudeIncrement * 3);
else
  gps.currentLongitude = gps.currentLongitude + longitudeIncrement;
  gps.currentLatitude = gps.currentLatitude + latitudeIncrement;
end if;
',
	'');
INSERT INTO SM_TAH
	VALUES ("81cae24c-5e28-455b-ac87-9d0f79a388cb",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"79a25dfe-444c-43aa-95bc-89f40c3f6575");
INSERT INTO SM_AH
	VALUES ("81cae24c-5e28-455b-ac87-9d0f79a388cb",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2");
INSERT INTO SM_ACT
	VALUES ("81cae24c-5e28-455b-ac87-9d0f79a388cb",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	1,
	'// Activate the simulated GPS.
GPS::activate();

LOG::LogInfo(message: "Location listener registered.");
',
	'');
INSERT INTO SM_TAH
	VALUES ("bdb9589b-685c-4c7d-84b0-b1abe8567c43",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"ebca36d4-a04b-4832-bb41-0764d1b77c4a");
INSERT INTO SM_AH
	VALUES ("bdb9589b-685c-4c7d-84b0-b1abe8567c43",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2");
INSERT INTO SM_ACT
	VALUES ("bdb9589b-685c-4c7d-84b0-b1abe8567c43",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	1,
	'',
	'');
INSERT INTO SM_TAH
	VALUES ("7f42c9a8-8c21-4519-aeb7-15b2c09c373e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	"058fd5de-7908-4056-85a6-184a66f1008c");
INSERT INTO SM_AH
	VALUES ("7f42c9a8-8c21-4519-aeb7-15b2c09c373e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2");
INSERT INTO SM_ACT
	VALUES ("7f42c9a8-8c21-4519-aeb7-15b2c09c373e",
	"5011af1c-fc70-48a9-ba1e-c67d9e19cab2",
	1,
	'// Increment simulated motion segment count.
select any gps from instances of GPS;
gps.motionSegments = gps.motionSegments + 1;
',
	'');
INSERT INTO O_OBJ_PROXY
	VALUES ("bae50d6c-eb90-48f6-bd80-4dcabb585b81",
	'GPS',
	1,
	'GPS',
	'Simulates a GPS.',
	"00000000-0000-0000-0000-000000000000",
	'../GPS.xtuml');
